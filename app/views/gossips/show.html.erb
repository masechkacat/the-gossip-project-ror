<%# This ERB template displays a single gossip and its comments %>

<%# Set the title of the page %>
<% content_for :title, "Gossip" %>

<div class="container mt-4">
  <div class="row">
    <div class="card">
      <div class="card-header">
        <h2><%= @gossip.title %></h2>
      </div>
      <div class="card-body">
        <blockquote class="blockquote mb-0">
          <p><%= @gossip.content %></p>
          <footer class="blockquote-footer">
            <% if current_user %>
              <cite><%= link_to "#{h(@gossip.user.first_name)}
              #{h(@gossip.user.last_name)}".html_safe, user_path(@gossip.user) %></cite>
            <% else %>
                <cite>To view the author, comments et likes, please <%= link_to 'register', new_user_path %> or <%= link_to 'log in', new_session_path %>.</cite>
            <% end %>
          </footer>
          </blockquote>
      </div>
    </div>
    <% if current_user %>
      <div class="col-md-8">
        <label>
        <input type="checkbox" name="like" value="1">
        Like
        </label>
        <p><%= @gossip.likes.count %> likes</p>
      </div>

      <div class="col-md-8">
        <h3>Comments</h3>
        <ul class="list-group list-group-flush">
          <% @gossip.comments.each do |comment| %>
            <li class="list-group-item"><%= comment.content %></li>
          <% end %>
        </ul>
      </div>
  </div>
  <div class="col-md-6 m-4">
      <form>
        <div class="form-group m-2">
              <label for="comment">Your comment:</label>
              <textarea class="form-control" rows="3" id="comment"></textarea>
            </div>
            <button type="submit m-2" class="btn btn-primary">Submit</button>
          </form>
    </div>
    <% end %>

    </div>
  </div>    

